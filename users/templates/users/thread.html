{% extends 'base.html' %}

{% block title %}{{ thread.subject }}{% endblock %}

{% block content %}
<h2>{{ thread.subject }}</h2>

<div class="messages-container mb-4">
    {% for message in thread.messages.all %}
    <div class="message-bubble {% if message.sender == user %}text-end{% endif %}">
        <strong>{{ message.sender.get_display_name }}</strong>
        <p>{{ message.content }}</p>
        <small class="text-muted">{{ message.created_at|date:"M d, Y g:i A" }}</small>
    </div>
    {% endfor %}
</div>

<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        <textarea name="content" class="form-control" rows="3" placeholder="Type your message..." required></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Send</button>
</form>
{% endblock %}
