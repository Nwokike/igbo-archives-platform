{% extends 'base.html' %}

{% block title %}Reject {{ post_type|title }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <h1 class="font-serif text-display-lg text-dark-brown mb-6">Reject {{ post_type|title }}</h1>
    
    <div class="alert alert-warning mb-6">
        <i class="fas fa-exclamation-triangle"></i>
        <div>You are about to reject this {{ post_type }}. Please provide a reason for the rejection so the author can improve and resubmit.</div>
    </div>

    <div class="card mb-6">
        <div class="card-body">
            <h3 class="font-serif text-lg font-semibold text-dark-brown mb-1">{{ post.title|default:post.review_title }}</h3>
            <p class="text-vintage-beaver text-sm">
                By {{ post.author.full_name|default:post.author.get_display_name|default:post.reviewer.full_name|default:post.reviewer.get_display_name }}
            </p>
        </div>
    </div>

    <form method="post" class="space-y-6">
        {% csrf_token %}
        <div class="form-group">
            <label for="reason" class="form-label">Rejection Reason *</label>
            <textarea name="reason" id="reason" class="form-textarea" rows="4" required 
                      placeholder="Please explain why this post is being rejected..."></textarea>
            <p class="form-help">This will be sent to the author via email and in-app notification.</p>
        </div>

        <div class="flex gap-3">
            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-medium py-2.5 px-5 rounded-lg transition-colors inline-flex items-center gap-2">
                <i class="fas fa-times"></i> Confirm Rejection
            </button>
            <a href="{% url 'users:moderation_dashboard' %}" class="btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
