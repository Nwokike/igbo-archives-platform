{% load static %}
<div class="relative inline-block text-left share-dropdown-container">
    <button type="button"
        class="share-toggle-button btn-secondary btn-sm flex items-center gap-2 px-3 py-1.5 rounded-lg border border-border hover:bg-accent hover:border-accent hover:text-white transition-all duration-300"
        aria-expanded="false" aria-haspopup="true">
        <i class="fas fa-share-alt"></i>
        <span>Share</span>
    </button>

    <div
        class="share-menu absolute right-0 bottom-full mb-2 w-48 rounded-xl bg-white dark:bg-surface-dark shadow-2xl border border-border dark:border-border-dark opacity-0 scale-95 pointer-events-none transition-all duration-300 z-50 origin-bottom-right">
        <div class="p-2 grid grid-cols-1 gap-1">
            <!-- Facebook -->
            <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri|urlencode }}"
                target="_blank" rel="noopener noreferrer"
                class="flex items-center gap-3 px-3 py-2 text-sm rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 text-text dark:text-text-dark transition-colors">
                <i class="fab fa-facebook-f w-4 text-center text-blue-600"></i>
                <span>Facebook</span>
            </a>

            <!-- Twitter/X -->
            <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri|urlencode }}&text={{ title|urlencode }}"
                target="_blank" rel="noopener noreferrer"
                class="flex items-center gap-3 px-3 py-2 text-sm rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 text-text dark:text-text-dark transition-colors">
                <i class="fab fa-x-twitter w-4 text-center"></i>
                <span>Twitter</span>
            </a>

            <!-- WhatsApp -->
            <a href="https://wa.me/?text={{ title|urlencode }}%20{{ request.build_absolute_uri|urlencode }}"
                target="_blank" rel="noopener noreferrer"
                class="flex items-center gap-3 px-3 py-2 text-sm rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 text-text dark:text-text-dark transition-colors">
                <i class="fab fa-whatsapp w-4 text-center text-green-600"></i>
                <span>WhatsApp</span>
            </a>

            <div class="my-1 border-t border-border dark:border-border-dark"></div>

            <!-- Copy Link -->
            <button type="button" onclick="copyToClipboard('{{ request.build_absolute_uri }}')"
                class="flex items-center gap-3 w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-accent/10 text-text dark:text-text-dark transition-colors">
                <i class="fas fa-link w-4 text-center text-accent"></i>
                <span>Copy Link</span>
            </button>
        </div>
    </div>
</div>