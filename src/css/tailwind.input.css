/* Asset Imports */
@import "@fontsource/inter/400.css";
@import "@fontsource/inter/500.css";
@import "@fontsource/inter/600.css";
@import "@fontsource/inter/700.css";
@import "@fontsource/playfair-display/400.css";
@import "@fontsource/playfair-display/600.css";
@import "@fontsource/playfair-display/700.css";
/* FontAwesome loaded separately via static/vendor/css/fontawesome.min.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   BASE LAYER - Minimal Global Styles
   ======================================== */
@layer base {
  html {
    @apply scroll-smooth;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-surface text-text font-sans antialiased transition-colors duration-200;
  }

  body.dark-mode {
    @apply bg-surface-dark text-text-dark;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-serif font-semibold;
  }

  a {
    @apply transition-colors duration-200;
  }
}

/* ========================================
   COMPONENT LAYER - Reusable Classes
   ======================================== */
@layer components {

  /* --- BUTTONS (3 variants only) --- */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-medium text-sm rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-accent/50 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-accent text-white hover:bg-accent-hover shadow-sm hover:shadow;
  }

  .btn-secondary {
    @apply btn bg-surface-alt text-text border border-border hover:bg-border/50;
  }

  body.dark-mode .btn-secondary {
    @apply bg-surface-dark-alt text-text-dark border-border-dark hover:bg-border-dark;
  }

  .btn-ghost {
    @apply btn bg-transparent text-text-muted hover:bg-surface-alt hover:text-text;
  }

  body.dark-mode .btn-ghost {
    @apply text-text-dark-muted hover:bg-surface-dark-alt hover:text-text-dark;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  /* --- CARDS (1 base, modifiers) --- */
  .card {
    @apply bg-white rounded-xl border border-border overflow-hidden transition-shadow duration-200;
  }

  body.dark-mode .card {
    @apply bg-surface-dark-alt border-border-dark;
  }

  .card-hover {
    @apply hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200;
  }

  .card-body {
    @apply p-5;
  }

  .card-header {
    @apply px-5 py-4 border-b border-border;
  }

  .card-footer {
    @apply px-5 py-4 border-t border-border bg-surface-alt/50;
  }

  body.dark-mode .card-header,
  body.dark-mode .card-footer {
    @apply border-border-dark;
  }

  body.dark-mode .card-footer {
    @apply bg-surface-dark/50;
  }

  /* --- FORMS --- */
  .form-label {
    @apply block text-sm font-medium text-text mb-1.5;
  }

  body.dark-mode .form-label {
    @apply text-text-dark;
  }

  .form-input {
    @apply w-full px-4 py-2.5 text-sm rounded-lg border border-border bg-white text-text placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent/30 focus:border-accent transition-all duration-200;
  }

  body.dark-mode .form-input {
    @apply bg-surface-dark border-border-dark text-text-dark placeholder-text-dark-muted;
  }

  .form-select {
    @apply form-input appearance-none bg-no-repeat pr-10;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236B5D52'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
    background-position: right 0.75rem center;
    background-size: 1rem;
  }

  .form-textarea {
    @apply form-input min-h-[120px] resize-y;
  }

  /* --- NAVIGATION --- */
  .nav-link {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-text-muted rounded-lg hover:bg-surface-alt hover:text-text transition-all;
  }

  body.dark-mode .nav-link {
    @apply text-text-dark-muted hover:bg-surface-dark-alt hover:text-text-dark;
  }

  .nav-link.active {
    @apply bg-accent/10 text-accent;
  }

  /* --- BADGES --- */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full;
  }

  .badge-primary {
    @apply bg-accent/15 text-accent;
  }

  .badge-secondary {
    @apply bg-surface-alt text-text-muted;
  }

  .badge-success {
    @apply bg-green-100 text-green-800;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800;
  }

  .badge-error {
    @apply bg-red-100 text-red-800;
  }

  body.dark-mode .badge-secondary {
    @apply bg-surface-dark-alt text-text-dark-muted;
  }

  /* --- ALERTS --- */
  .alert {
    @apply flex items-start gap-3 p-4 rounded-xl text-sm border;
  }

  .alert-success {
    @apply bg-green-50 border-green-200 text-green-800;
  }

  .alert-error {
    @apply bg-red-50 border-red-200 text-red-800;
  }

  .alert-warning {
    @apply bg-yellow-50 border-yellow-200 text-yellow-800;
  }

  .alert-info {
    @apply bg-blue-50 border-blue-200 text-blue-800;
  }

  body.dark-mode .alert-success {
    @apply bg-green-900/20 border-green-800 text-green-300;
  }

  body.dark-mode .alert-error {
    @apply bg-red-900/20 border-red-800 text-red-300;
  }

  body.dark-mode .alert-warning {
    @apply bg-yellow-900/20 border-yellow-800 text-yellow-300;
  }

  body.dark-mode .alert-info {
    @apply bg-blue-900/20 border-blue-800 text-blue-300;
  }

  /* --- AVATARS --- */
  .avatar {
    @apply inline-flex items-center justify-center rounded-full bg-surface-alt font-semibold text-text overflow-hidden;
  }

  .avatar-sm {
    @apply w-8 h-8 text-xs;
  }

  .avatar-md {
    @apply w-10 h-10 text-sm;
  }

  .avatar-lg {
    @apply w-14 h-14 text-base;
  }

  .avatar-xl {
    @apply w-20 h-20 text-xl;
  }

  .avatar img {
    @apply w-full h-full object-cover;
  }

  body.dark-mode .avatar {
    @apply bg-surface-dark-alt text-text-dark;
  }

  /* --- TABS --- */
  .tab {
    @apply px-4 py-2.5 text-sm font-medium text-text-muted border-b-2 border-transparent hover:text-text hover:border-border transition-all cursor-pointer;
  }

  .tab.active {
    @apply text-accent border-accent;
  }

  body.dark-mode .tab {
    @apply text-text-dark-muted hover:text-text-dark hover:border-border-dark;
  }

  body.dark-mode .tab.active {
    @apply text-accent border-accent;
  }

  .tab-panel {
    @apply hidden;
  }

  .tab-panel.active {
    @apply block animate-fade-in;
  }

  /* --- DROPDOWN --- */
  .dropdown-menu {
    @apply absolute right-0 mt-2 w-56 py-2 bg-white rounded-xl shadow-lg border border-border opacity-0 invisible translate-y-1 transition-all duration-200 z-50;
  }

  .dropdown.active .dropdown-menu {
    @apply opacity-100 visible translate-y-0;
  }

  body.dark-mode .dropdown-menu {
    @apply bg-surface-dark-alt border-border-dark;
  }

  .dropdown-item {
    @apply flex items-center gap-3 px-4 py-2.5 text-sm text-text hover:bg-surface-alt transition-colors;
  }

  body.dark-mode .dropdown-item {
    @apply text-text-dark hover:bg-surface-dark;
  }

  /* --- MODAL --- */
  .modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 opacity-0 invisible transition-all duration-200;
  }

  .modal-overlay.active {
    @apply opacity-100 visible;
  }

  .modal {
    @apply bg-white rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden transform scale-95 transition-transform duration-200;
  }

  .modal-overlay.active .modal {
    @apply scale-100;
  }

  body.dark-mode .modal {
    @apply bg-surface-dark-alt;
  }

  .modal-header {
    @apply flex items-center justify-between px-6 py-4 border-b border-border;
  }

  .modal-body {
    @apply p-6 overflow-y-auto;
  }

  .modal-footer {
    @apply flex justify-end gap-3 px-6 py-4 border-t border-border;
  }

  body.dark-mode .modal-header,
  body.dark-mode .modal-footer {
    @apply border-border-dark;
  }

  /* --- PAGINATION --- */
  .pagination {
    @apply flex items-center gap-1;
  }

  .page-link {
    @apply inline-flex items-center justify-center w-10 h-10 text-sm font-medium rounded-lg text-text-muted hover:bg-surface-alt transition-colors;
  }

  .page-link.active {
    @apply bg-accent text-white hover:bg-accent-hover;
  }

  .page-link.disabled {
    @apply opacity-50 cursor-not-allowed hover:bg-transparent;
  }

  body.dark-mode .page-link {
    @apply text-text-dark-muted hover:bg-surface-dark-alt;
  }

  /* --- SKELETON --- */
  .skeleton {
    @apply bg-surface-alt rounded animate-pulse;
  }

  body.dark-mode .skeleton {
    @apply bg-surface-dark-alt;
  }

  /* --- DIVIDER --- */
  .divider {
    @apply border-t border-border my-6;
  }

  body.dark-mode .divider {
    @apply border-border-dark;
  }
}

/* ========================================
   UTILITIES LAYER
   ======================================== */
@layer utilities {
  .text-muted {
    @apply text-text-muted;
  }

  body.dark-mode .text-muted {
    @apply text-text-dark-muted;
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(5px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.border.DEFAULT') transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: theme('colors.border.DEFAULT');
    border-radius: 3px;
  }
}